var exerciseTypeDetailsModule = angular.module("exerciseTypes.exerciseTypeDetails", [
  'exerciseTypes.exerciseType'
]);

exerciseTypeDetailsModule.directive('exerciseTypeDetails', function () {
  return {
    restrict: 'E',
    scope: {
      'exerciseType': '=exerciseType',
      'exerciseTypeId': '=exerciseTypeId'
    },
    controller: ['$scope', 'ExerciseType', function ($scope, ExerciseType) {
      $scope.exerciseTypeData = $scope.exerciseTypeId ? ExerciseType.get({id: $scope.exerciseTypeId}) : $scope.exerciseType;
    }],
    templateUrl: "<%= asset_path('exerciseTypes/exercise-type-details.html') %>"
  };
});


exerciseTypeDetailsModule.factory('ExerciseTypeDetailsDialog', ['$modal', function ($modal) {
  return function (exerciseType) {
    return $modal.open({
      templateUrl: '<%= asset_path('exerciseTypes/exercise-type-details-dialog.html') %>',
      backdrop: 'static',
      windowClass: 'modal-window',
      size: 'lg',
      controller: ['$scope', 'ExerciseType',
        function ($scope, ExerciseType) {
          $scope.exerciseType = ExerciseType.get({id: exerciseType.id});

          $scope.onCloseClicked = function () {
            $scope.$dismiss();
          };
        }
      ]
    });
  };
}]);