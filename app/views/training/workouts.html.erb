<div class="my-workouts span3">
  <h3 class="jim-title">My workouts</h3>

  <ul class="workout-list nav nav-tabs nav-stacked" data-bind="foreach: my_templates, visible: my_templates().length > 0" style="display: none;">
    <li data-bind="css: {highlighted: id < 0}">
      <a href="#" data-bind="page-href: href">
        <div class="content">
          <div class="left" data-bind="html: name"></div>
          <div class="right"><i class="icon-chevron-right icon-white">​</i>​</div>
        </div>
      </a>
    </li>
  </ul>

</div>

<div class="main-panel span9">
  <div class="jim-box">

    <div class="header">
      <h1 class="jim-title">Welcome champ!</h1>
      <h1 class="jim-sub-title">Let's get you started, shall we?</h1>
    </div>

    <div class="separator"></div>

    <div class="instructions">
      <div class="row-fluid">
        <div class="span4">
          <span class="marginalium">1</span>
          <span class="contentium">Select & customise a training. It will be pushed to your mobile</span>
        </div>
        <div class="span4">
          <span class="marginalium">2</span>
          <span class="contentium"><a href="#">Download</a> the JIM mobile application</span>
        </div>
        <div class="span4">
          <span class="marginalium">3</span>
          <span class="contentium">Select your training, push start and... start sweating</span>
        </div>
      </div>
    </div>

    <div class="separator"></div>

    <div id="workout-templates" class="header">
      <h1 class="jim-title">Workouts</h1>
      <h1 class="jim-sub-title">For starters select and modify one of the <span class="underline">existing regimes</span> below.</h1>
    </div>

    <div class="regimes" data-bind="foreach: templates, visible: templates().length > 0" style="display: none; ">
      <a class="regime" href="#selected-workout" data-bind="css: { active: id % 3 == 1 }, page-href: href">
        <div class="icon"><div class="tick-icon"><i class="icon-ok"></i></div><div class="image"><img src="" data-bind="attr: { src: getIconPath($index), alt: name }"/></div></div>
        <div class="name" data-bind="text: name"></div>
      </a>
    </div>

    <div id="my-workout" class="selected-regime" data-bind="with: selected_training, visible: !!selected_training()" style="display: none;">

      <div class="separator"></div>

      <h1 class="jim-title">Customise your workout</h1>
      <div class="name row-fluid">
        <div class="left span8">
          <input class="the-name-value" data-bind="value: name"/>
        </div>
        <div class="right span4">
          <div class="btn-group">
            <button class="btn btn-large btn-success dropdown-toggle" data-toggle="dropdown">
              Add exercise
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" data-bind="foreach: $root.exercise_types">
              <li>
                <a data-bind="text: name, click: $root.addExerciseOfType" class="button-behaviour"></a>
              </li>
            </ul>
          </div>
        </div>
      </div>


      <div class="exercises" data-bind="sortable: {data: exercises, afterRender: updateExercisePanel }">

        <div class="exercise">
          <div class="details row-fluid button-behaviour">
            <div class="name span7">
              <div class="exercise-label" data-bind="click: toggleDetails">Exercise:</div>
              <div class="exercise-name btn-group">
                <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
                  <span class="the-name-value" data-bind="text: exercise_type().name"></span>
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" data-bind="foreach: $root.exercise_types">
                  <li>
                    <a data-bind="text: name, click: $parent.setExerciseType, css: {active: id == $parent.exercise_type().id}"></a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="exercise-top-btns span5">
              <button class="delete-btn btn" data-bind="click: $parent.removeExercise">Delete <i class="icon-remove-sign"></i></button>
              <button class="btn" data-toggle="collapse" data-bind="attr: { 'data-target': '#exercise-' + $index() }" style="display: none;">Help me <i class="icon-question-sign"></i></button>
            </div>
          </div>

          <div class="series-list">
            <div class="series">
              <div class="row-fluid">
                <div class="reps span3 data-field" data-bind="with: series.selected">
                  <table class="content">
                    <tr>
                      <td class="text"><div>reps: <input class="value" type="text" data-bind="value: repeat_count"/></div></td>
                      <td class="plus-minus-btns"><div><button class="plus-btn btn" data-bind="click: increaseReps"><i class="icon-plus icon-white"></i></button><button class="minus-btn btn" data-bind="click: decreaseReps"><i class="icon-minus icon-white"></i></button></div></td>
                    </tr>
                  </table>
                </div><div class="weight span3 data-field" data-bind="with: series.selected">
                  <table class="content">
                    <tr>
                      <td class="text"><div>weight: <input class="value" type="text" data-bind="value: weight"/> kg</div></td>
                      <td class="plus-minus-btns"><div><button class="plus-btn btn" data-bind="click: increaseWeight"><i class="icon-plus icon-white"></i></button><button class="minus-btn btn" data-bind="click: decreaseWeight"><i class="icon-minus icon-white"></i></button></div></td>
                    </tr>
                  </table>
                </div><div class="rest span3 data-field" data-bind="with: series.selected">
                  <table class="content">
                    <tr>
                      <td class="text"><div>rest: <input class="value" type="text" data-bind="value: rest_time"/> s</div></td>
                      <td class="plus-minus-btns"><div><button class="plus-btn btn" data-bind="click: increaseRestTime"><i class="icon-plus icon-white"></i></button><button class="minus-btn btn" data-bind="click: decreaseRestTime"><i class="icon-minus icon-white"></i></button></div></td>
                    </tr>
                  </table>
                </div><div class="series-list span2 data-field">
                  <div class="title">Series:</div>
                  <div class="the-list" data-bind="foreach: series">
                    <div class="the-series label button-behaviour" data-bind="click: $parent.setSelectedSeries, text: $index() + 1, css: {selected: $parent.isSelectedSeries($data)}"></div>
                  </div>
                </div><div class="plus-minus-btns span1">
                  <button class="plus-btn btn" data-bind="click: addSeries"><i class="icon-plus icon-white"></i></button>
                  <button class="minus-btn btn" data-bind="click: removeSeries"><i class="icon-minus icon-white"></i></button>
                </div>
              </div>
            </div>
          </div>
          <div class="description">
            <div class="row-fluid">
              <div class="span12">
                <div class="span4">
                  <img src="resource?name=workouts/model-exercise.png" />
                </div>
                <div class="description-container span8">
                  <p class="title" >Preparation</p>
                  <p class="text">Lie on bench with bar above chest. Grasp bar from rack with shoulder width or slightly narrower grip. Disengage bar by rotating bar back.</p>
                  <p class="title">Execution</p>
                  <p class="text">The biarticulate long head of the triceps brachii [1 ] enters passive insufficiency through the completion of elbow flexion when the shoulders are more flexed and abducted or through the completion of shoulder flexion and abduction when the elbows are more flexed. The biarticulate long head of the triceps brachii [1 ] enters active insufficiency through the completion of elbow extension when the shoulders are more extended and adducted (other heads of the triceps becomes more active) or through the completion of shoulder extension and adduction when the elbows are more extended.</p>
                </div>
              </div>
            </div>
            <div class="row-fluid">
              <div class="span12">
                <div class="span5"></div>
                <div class="span4">
                  <table class="guidance" border="0" style="">
                    <tr>
                      <td class="text">
                        <span style="">guidance: </span>
                        <span class="btn-group">
                          <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
                            <span class="the-name-value" data-bind="text: guidance_type"></span>
                            <span class="caret"></span>
                          </a>
                          <ul class="dropdown-menu" data-bind="foreach: $root.all_guidance_types" style="top: auto; bottom: 75%;">
                            <li>
                              <a data-bind="text: $data, click: $parent.setGuidanceType"></a>
                            </li>
                          </ul>
                        </span>
                        <span><a class="btn no-padding" data-bind="click: showAdvancedPopup, visible: shouldShowDetailsButton"><img src="resource?name=workouts/arrow_NE.png" /></a></span>
                      </td>
                    </tr>
                  </table>
                </div>
                <div class="span3">
                  <table class="content" border="0">
                    <tr>
                      <td class="text span2"><span style="">chair settings: </span><input class="value" type="text" value="10"/>
                      </td>
                      <td class="plus-minus-btns span1"><div><button class="plus-btn btn"><i class="icon-plus icon-white"></i></button><button class="minus-btn btn"><i class="icon-minus icon-white"></i></button></div></td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <div data-bind="attr: { id: 'exercise-' + $index() }" class="collapse">
          </div>
        </div>

      </div>

      <div id="delete-confirmation" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
          <h2 class="jim-sub-title">Delete workout "<span data-bind="text: name"></span>"</h2>
        </div>
        <div class="modal-body">
          <p>Your are about to delete the workout "<span data-bind="text: name"></span>".</p>
          <p>Press "Delete" to confirm.</p>
        </div>
        <div class="modal-footer">
          <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
          <button class="btn btn-primary btn-danger" data-bind="click: $root.deleteTraining">Delete</button>
        </div>
      </div>

      <div class="workout-buttons">
        <div class="row-fluid">
          <div class="span8"></div>
          <div class="span4">
            <button class="delete btn" data-bind="click: onDeleteClicked">Delete</button>
            <button class="save btn btn-success" data-bind="click: onSaveClicked">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>