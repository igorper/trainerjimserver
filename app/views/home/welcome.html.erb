<div class="welcome-page">

  <div class="header">
    <div class="header-logo central-strip">
      <div class="sign-in-tab" style="display: none;">sign in</div>
      <div class="registration-form" style="display: none;">
        <input type="text" value=""/>
        <input type="text" value=""/>
        <input type="text" value=""/>
        <input type="text" value=""/>
      </div>
      <script type="text/javascript">
        $(function() {
          $('.sign-in-tab').click(function() {
            $('.registration-form').show();
          });
        });
      </script>

    </div>

    <div class="subscription-top central-strip">
      <div class="subscription">
        <div class="the-form">
          <input class="subscription-email" type="text" placeholder="eg. train@trainerjim.com" value=""/>
          <input class="subscribe-btn" type="submit" value="subscribe" />
        </div>
      </div>
    </div>
  </div>

  <div class="central-strip">
    <div class="for-whom">
      <div class="buttons">
        <div class="btn-for-trainees">
        </div>
        <div class="btn-for-trainers">
        </div>
      </div>
      <div class="features-details"></div>
    </div>

    <div class="explanation"></div>

    <div class="social">
      <div class="twitter"></div>
      <div class="tumblr"></div>
    </div>


    <div class="pocket-trousers"></div>

    <div class="subscription-bottom">
      <div class="subscription">
        <div class="fist-bump"></div>
        <div class="sub-notice">be the first to know when JIM launches</div>
        <div class="the-form">
          <input class="subscription-email" type="text" placeholder="eg. train@trainerjim.com" value=""/>
          <input class="subscribe-btn" type="submit" value="subscribe" />
        </div>
      </div>
    </div>

  </div>

</div>

<div class="subscription-error-alert subscription-alert alert alert-block alert-error fade in hide">
  <button type="button" class="close" data-dismiss="alert">&times;</button>
  <h4 class="alert-heading">Darn it! We couldn't subscribe you.</h4>
  <p class="alert-content">Please check your email and try again.</p>
</div>

<div class="subscription-success-alert subscription-alert alert alert-block alert-success fade in hide">
  <button type="button" class="close" data-dismiss="alert">&times;</button>
  <h4 class="alert-heading">Great stuff, champ!</h4>
  <p class="alert-content">When Jim starts pumping, we'll send you an email and you'll be the first to know.</p>
</div>

<script type="text/javascript">
  $(function() {
    var subAlert = $('.subscription-error-alert');
    var subAlertSuccess = $('.subscription-success-alert');

    function showAlert(el) {
      var al = subAlert.clone();
      al.addClass('displayed');
      el.parents('.subscription').before(al);
      al.show();
    }

    function showAlertSuccess(el) {
      var al = subAlertSuccess.clone();
      al.addClass('displayed');
      el.parents('.subscription').before(al);
      al.show();
    }

    function hideAlerts() {
      $('.subscription-alert.displayed').remove();
    }

    $('.subscribe-btn').click(function() {
      hideAlerts();
      var email = $(this).prev('.subscription-email').val();
      var subscriptionBtn = $(this);
      callJSON('<%= subscription_url  %>', {email: email}, function() {
        showAlertSuccess(subscriptionBtn);
      }, function() {
        showAlert(subscriptionBtn);
      });
    });
  });
</script>